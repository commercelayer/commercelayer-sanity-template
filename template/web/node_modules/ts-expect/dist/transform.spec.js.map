{"version":3,"file":"transform.spec.js","sourceRoot":"","sources":["../src/transform.spec.ts"],"names":[],"mappings":";;AAAA,iCAAiC;AACjC,+BAA4B;AAC5B,2CAAoC;AACpC,2BAAkC;AAElC,QAAQ,CAAC,WAAW,EAAE,GAAG,EAAE;IACzB,MAAM,KAAK,GAAG;QACZ,WAAI,CAAC,SAAS,EAAE,iCAAiC,CAAC;QAClD,WAAI,CAAC,SAAS,EAAE,oCAAoC,CAAC;QACrD,WAAI,CAAC,SAAS,EAAE,kCAAkC,CAAC;KACpD,CAAC;IAEF,EAAE,CAAC,sBAAsB,EAAE,GAAG,EAAE;QAC9B,MAAM,IAAI,GAAG,EAAE,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC;QACvC,MAAM,OAAO,GAAG,EAAE,CAAC,aAAa,CAAC,KAAK,EAAE,EAAE,EAAE,IAAI,CAAC,CAAC;QAClD,MAAM,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE;YACtE,MAAM,EAAE,CAAC,mBAAS,EAAE,CAAC;SACtB,CAAC,CAAC;QAEH,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAEvC,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;YACxB,MAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;YAE7C,MAAM,CAAC,iBAAY,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC;SACzD;IACH,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import * as ts from \"typescript\";\nimport { join } from \"path\";\nimport transform from \"./transform\";\nimport { readFileSync } from \"fs\";\n\ndescribe(\"transform\", () => {\n  const paths = [\n    join(__dirname, \"__fixtures__/test-var-shadow.ts\"),\n    join(__dirname, \"__fixtures__/test-import-spread.ts\"),\n    join(__dirname, \"__fixtures__/test-import-star.ts\"),\n  ];\n\n  it(\"should strip expects\", () => {\n    const host = ts.createCompilerHost({});\n    const program = ts.createProgram(paths, {}, host);\n    const result = program.emit(undefined, undefined, undefined, undefined, {\n      before: [transform()],\n    });\n\n    expect(result.diagnostics).toEqual([]);\n\n    for (const path of paths) {\n      const outPath = path.replace(/\\.ts$/, \".js\");\n\n      expect(readFileSync(outPath, \"utf8\")).toMatchSnapshot();\n    }\n  });\n});\n"]}